<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <title>Leaflet</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
    integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
    crossorigin="" />
  <style>
    html,
    body {
      width: 100%;
      height: 100%;
    }

    body {
      padding: 0;
      margin: 0;
    }

    #map_canvas {
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body onload="initialize()">
  <div id="map_canvas"></div>
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
    integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
    crossorigin=""></script>
  <script>
    /*---------------------------------------------------
    * Hochschule für Technik Stuttgart
    * Fachbereich Vermessung, Informatik und Mathematik
    * Schellingstr. 24
    * D-70174 Stuttgart
    *
    * Volker Coors
    * 7.11.2018
    *
    * GeoVisualisierung
    * 
    * ------------------------------------------------*/
    var map
    /**
    * Die Methode initialize wird beim Laden der Webseite aufgerufen
    * durch HTML <body onload="initialize()">, siehe unten.
    */
    function initialize() {
      /**
      * zoom level: 0 - 18
      * 
      * 0 - Weltkarte
      *  ...
      * 18 - Einzelgebäue
      *
      * siehe https://leafletjs.com/examples/zoom-levels/
      * 
      * setView:
      * der erste Paramter definiert den Mittelpunkt der Karte in 
      * Längen- und Breitengrad (Koordinatensystem WGS 84)
      *
      * Stuttgart - [48.81, 9.16]
      * Sidney - [-33.51, 151.12]
      *
      */
      map = L.map('map_canvas').setView([-33.51, 151.12], 10);
      /**
      * Die Karte basiert auf OpenStreetmap Daten und wird von Mapbox als gekachelte 
      * Rasterkarte bereitgestellt. Leider ist die Nutzung von MapBox auch mit einem 
      * Geschäftsmodell verbunden, siehe https://www.mapbox.com/pricing/
      * Aber bei geringer Nutzung sind die Karten kostenfrei.
      * Als access token wird das token aus dem Leaflet Quickstart verwendet:
      * https://leafletjs.com/examples/quick-start/
      *
      * anstelle einer Strassenkarte können auch Satellitenbilder genutzt werden:
      * id: 'mapbox.satellite'
      */
      var osm = new L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',
        minZoom: 2,
        maxZoom: 18
      });
      map.addLayer(osm);
      /**
      * place marker with balloon
      * and user defines Icon
      *   
      */
      var beachFlagIcon = L.icon({
        iconUrl: 'images/beachflag.png',
        iconSize: [20, 32], // size of the icon
        iconAnchor: [0, 32], // point of the icon which will correspond to marker's location
        popupAnchor: [0, -32] // point from which the popup should open relative to the iconAnchor
      });
      var marker = L.marker([-33.51, 151.12],
        {
          icon: beachFlagIcon,            // beachflag Icon
          title: 'mein neuer Marker'
        }     // Add a title
      ).addTo(map)
        .bindPopup("<b>Mein Marker</b><br>Hier kann HTML Text folgen.")
        .openPopup();
    }
  </script>
</body>

</html>